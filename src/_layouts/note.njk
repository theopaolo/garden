---
layout: base.njk
---

<main class="container">
  <div class="intro">
    <h1 view-transition-name="page-title">{{ title }}</h1>
    <div class="note-date">{{ date | formatDate }}</div>
  </div>

  <article class="note-content" view-transition-name="note-content">
    {{ content | safe }}
  </article>

  {% if tags %}
  <div class="note-tags">
    {% for tag in tags %}
      <a href="/tags/{{ tag | slug }}/" class="tag">{{ tag }}</a>
    {% endfor %}
  </div>
  {% endif %}

  {% if page.url.startsWith('/labo/') %}
    {% set otherNotes = collections.labo | reverse | excludeItemByUrl(page.url) | slice(0, 5) %}
  {% else %}
    {% set otherNotes = collections.notes | reverse | excludeItemByUrl(page.url) | slice(0, 5) | rejectattr("data.layout", "equalto", "base.njk") %}
  {% endif %}

  {% if otherNotes.length %}
    <section class="notes-list">
      <h2>Autres notes</h2>
      {% for note in otherNotes %}
        <div class="note-item">
          <a href="{{ note.url }}" class="note-title">{{ note.data.title }}</a>
          <span class="note-date">{{ note.date | formatDate }}</span>
        </div>
      {% endfor %}
    </section>
  {% endif %}

  <footer class="footer">
    <a href="/" class="back-link">‚Üê Retour</a>
  </footer>
</main>